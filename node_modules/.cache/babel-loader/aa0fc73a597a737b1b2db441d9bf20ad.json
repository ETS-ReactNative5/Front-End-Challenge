{"ast":null,"code":"import _toConsumableArray from \"/Users/alexanderneumann/GeneralAssembly/Shopify-Front-End-Challenge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/alexanderneumann/GeneralAssembly/Shopify-Front-End-Challenge/src/components/Form/Form.jsx\";\n\nimport React from 'react';\nimport { ReactComponent as FormSvg } from \"@svgr/webpack?-prettier,-svgo!../../send-02.svg\";\nimport TextareaAutosize from 'react-textarea-autosize';\nimport \"./Form.css\"; //Note that the API Key is hidden away for security\n\nvar OpenAPIKey = process.env.REACT_APP_OPENAI_API_KEY;\n\nvar Form = function Form(props) {\n  var handleSubmit = function handleSubmit(usersPromptData) {\n    props.setIsLoading(true);\n    var alexanderNeumann = \"alexander neumann\";\n\n    if (props.usersPromptData.toLowerCase().includes(alexanderNeumann)) {\n      var aiResponse = 'Alexander Neumann is a 27 y/o graphic designer and developer of this chat feature. In his graphic design work,he has worked for Christopher Wylie, Citymapper and developed his own game.';\n      props.updateValuesData(function (data) {\n        return [].concat(_toConsumableArray(data), [[\"\".concat(usersPromptData), aiResponse]]);\n      });\n      console.log('success', aiResponse);\n      console.log(props.allValuesData);\n      props.setIsLoading(false);\n    } else {\n      var datafromAPI = {\n        //AN: Passes in what the user types in the text field as with a template literal\n        prompt: \"\".concat(usersPromptData),\n        temperature: 1,\n        max_tokens: 200,\n        top_p: 1.0,\n        frequency_penalty: 0.0,\n        presence_penalty: 0.0\n      };\n      fetch(\"https://api.openai.com/v1/engines/text-curie-001/completions\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: \"Bearer \".concat(OpenAPIKey)\n        },\n        body: JSON.stringify(datafromAPI)\n      }).then(function (response) {\n        //AN: If there's any errors coming from the OpenAPI,\n        //this is where the code tells us the status code\n        if (!response.ok) {\n          throw new Error(\"HTTP status \" + response.status);\n        }\n\n        return response.json();\n      }).then(function (response) {\n        console.log(response.choices[0].text);\n        props.setIsLoading(false); //AN: This cleans up the start of the OpenAPI Response using Regular Expressions (Regex)\n\n        var aiResponse = response.choices[0].text.replace(/((^.)(^,)(^())\\r\\n)/gm, \"\");\n        aiResponse = aiResponse === \"\" || null ? \"I'm sorry Dave, I'm afraid I can't that\" : aiResponse;\n        props.updateValuesData(function (data) {\n          return [].concat(_toConsumableArray(data), [[\"\".concat(usersPromptData), \"\".concat(aiResponse)]]);\n        });\n        console.log(props.allValuesData);\n      });\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: function onSubmit(event) {\n      event.preventDefault();\n      event.target.reset();\n      handleSubmit(props.usersPromptData, props.updateValuesData, props.setIsLoading);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(TextareaAutosize, {\n    placeholder: \"Type a message...\",\n    onChange: function onChange(event) {\n      event.preventDefault();\n      props.updateUsersPrompt(event.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"Submit\",\n    type: \"submit\",\n    disabled: props.isLoading,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormSvg, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 81\n    }\n  }))));\n};\n\nexport default Form;","map":{"version":3,"names":["React","TextareaAutosize","OpenAPIKey","process","env","REACT_APP_OPENAI_API_KEY","Form","props","handleSubmit","usersPromptData","setIsLoading","alexanderNeumann","toLowerCase","includes","aiResponse","updateValuesData","data","console","log","allValuesData","datafromAPI","prompt","temperature","max_tokens","top_p","frequency_penalty","presence_penalty","fetch","method","headers","Authorization","body","JSON","stringify","then","response","ok","Error","status","json","choices","text","replace","event","preventDefault","target","reset","updateUsersPrompt","value","isLoading"],"sources":["/Users/alexanderneumann/GeneralAssembly/Shopify-Front-End-Challenge/src/components/Form/Form.jsx"],"sourcesContent":["import React from 'react';\nimport { ReactComponent as FormSvg } from '../../send-02.svg';\nimport TextareaAutosize from 'react-textarea-autosize';\nimport \"./Form.css\";\n\n//Note that the API Key is hidden away for security\nconst OpenAPIKey = process.env.REACT_APP_OPENAI_API_KEY;\n\nconst Form = (props) => {\n\n    const handleSubmit = (usersPromptData) => {\n\n        props.setIsLoading(true);\n\n        const alexanderNeumann = \"alexander neumann\"\n\n        if ((props.usersPromptData).toLowerCase().includes(alexanderNeumann)) {\n\n\n            let aiResponse = `${'Alexander Neumann is a 27 y/o graphic designer and developer of this chat feature. In his graphic design work,he has worked for Christopher Wylie, Citymapper and developed his own game.'}`\n\n            props.updateValuesData(data => [...data, [`${usersPromptData}`, aiResponse]]);\n            console.log('success', aiResponse);\n            console.log(props.allValuesData)\n            props.setIsLoading(false)\n\n        } else {\n\n            const datafromAPI = {\n                //AN: Passes in what the user types in the text field as with a template literal\n                prompt: `${usersPromptData}`,\n                temperature: 1,\n                max_tokens: 200,\n                top_p: 1.0,\n                frequency_penalty: 0.0,\n                presence_penalty: 0.0,\n            };\n\n            fetch(\"https://api.openai.com/v1/engines/text-curie-001/completions\", {\n                method: \"POST\",\n                headers: {\n                    \"Content-Type\": \"application/json\",\n                    Authorization: `Bearer ${OpenAPIKey}`,\n                },\n                body: JSON.stringify(datafromAPI),\n            })\n                .then((response) => {\n\n                    //AN: If there's any errors coming from the OpenAPI,\n                    //this is where the code tells us the status code\n\n                    if (!response.ok) {\n                        throw new Error(\"HTTP status \" + response.status);\n\n                    }\n                    return response.json();\n                })\n                .then((response) => {\n\n                    console.log(response.choices[0].text)\n                    props.setIsLoading(false)\n\n                    //AN: This cleans up the start of the OpenAPI Response using Regular Expressions (Regex)\n\n                    let aiResponse = response.choices[0].text.replace(\n                        /((^.)(^,)(^())\\r\\n)/gm,\n                        \"\"\n                    );\n\n                    aiResponse = aiResponse === \"\" || null ? \"I'm sorry Dave, I'm afraid I can't that\" : aiResponse;\n\n                    props.updateValuesData(data => [...data, [`${usersPromptData}`, `${aiResponse}`]]);\n                    console.log(props.allValuesData)\n\n                });\n        }\n    };\n\n    return (\n        <><form onSubmit={(event) => { event.preventDefault(); event.target.reset(); handleSubmit(props.usersPromptData, props.updateValuesData, props.setIsLoading) }}>\n            <TextareaAutosize placeholder=\"Type a message...\" onChange={(event) => { event.preventDefault(); props.updateUsersPrompt(event.target.value) }} />\n            <button className=\"Submit\" type=\"submit\" disabled={props.isLoading}><FormSvg /></button>\n        </form>\n        </>\n    );\n};\n\nexport default Form;\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from \"/Users/alexanderneumann/shopify-front-end-challenge/shopify-challenge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/alexanderneumann/shopify-front-end-challenge/shopify-challenge/src/App.js\";\n\nimport React, { Component, useState, useEffect } from 'react';\nimport Responses from './components/Responses/Responses';\nimport PromptInput from './components/PromptInput/PromptInput';\n\nvar _require = require(\"openai\"),\n    Configuration = _require.Configuration,\n    OpenAIApi = _require.OpenAIApi;\n\nvar OpenAPIKey = process.env.REACT_APP_OPENAI_API_KEY;\n\nvar App = function App(props) {\n  var _useState = useState([]),\n      _useState2 = _slicedToArray(_useState, 2),\n      usersPromptData = _useState2[0],\n      setUsersPrompt = _useState2[1];\n\n  var _useState3 = useState([]),\n      _useState4 = _slicedToArray(_useState3, 2),\n      aiResponseData = _useState4[0],\n      setAiResponse = _useState4[1];\n\n  var handleClick = function handleClick(usersPrompt) {\n    console.log(usersPrompt);\n    var data = {\n      prompt: \"\".concat(usersPrompt),\n      temperature: 1,\n      max_tokens: 100,\n      top_p: 1.0,\n      frequency_penalty: 0.0,\n      presence_penalty: 0.0\n    };\n    fetch(\"https://api.openai.com/v1/engines/text-curie-001/completions\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \".concat(OpenAPIKey)\n      },\n      body: JSON.stringify(data)\n    }).then(function (response) {\n      if (!response.ok) {\n        throw new Error(\"HTTP status \" + response.status);\n      }\n\n      return response.json();\n    }).then(function (response) {\n      var aiResponseTextwithRegex = response.choices[0].text;\n      var aiResponseRegexRemoved = aiResponseTextwithRegex.replace(/(^[.],\\r\\n|^[.]|,|\\n|\\r)/gm, \"\");\n      setUsersPrompt(usersPrompt);\n      setAiResponse(aiResponseRegexRemoved); //props.aiResponseTextToList(aiResponseText)\n      //setAiResponse(aiResponseText)\n      //console.log(aiResponseText);\n    });\n  };\n\n  console.log(aiResponseData);\n  return (\n    /*#__PURE__*/\n    //create a form \n    //HandleSubmitHandler\n    //React Forms \n    React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 5\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 7\n      }\n    }, \"Good morning, Dave. I'm HAL 3000\"), /*#__PURE__*/React.createElement(\"form\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"textarea\", {\n      type: \"text\",\n      value: usersPromptData,\n      onChange: function onChange(event) {\n        return setUsersPrompt(event.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 7\n      }\n    }), /*#__PURE__*/React.createElement(Responses, {\n      aiResponseData: aiResponseData,\n      promptResponseData: usersPromptData,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 18\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: function onClick() {\n        return handleClick(usersPromptData);\n      },\n      type: \"submit\",\n      value: \"Submit\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 7\n      }\n    }, \" Submit Prompt \"), /*#__PURE__*/React.createElement(React.Fragment, null))\n  );\n};\n\nexport default App;","map":{"version":3,"names":["React","Component","useState","useEffect","Responses","PromptInput","require","Configuration","OpenAIApi","OpenAPIKey","process","env","REACT_APP_OPENAI_API_KEY","App","props","usersPromptData","setUsersPrompt","aiResponseData","setAiResponse","handleClick","usersPrompt","console","log","data","prompt","temperature","max_tokens","top_p","frequency_penalty","presence_penalty","fetch","method","headers","Authorization","body","JSON","stringify","then","response","ok","Error","status","json","aiResponseTextwithRegex","choices","text","aiResponseRegexRemoved","replace","event","target","value"],"sources":["/Users/alexanderneumann/shopify-front-end-challenge/shopify-challenge/src/App.js"],"sourcesContent":["import React, {Component, useState, useEffect} from 'react';\nimport Responses from './components/Responses/Responses'\nimport PromptInput from './components/PromptInput/PromptInput'\nconst { Configuration, OpenAIApi} = require(\"openai\");\n\nconst OpenAPIKey = process.env.REACT_APP_OPENAI_API_KEY\n\nconst App = (props) => {\n\n  const [usersPromptData, setUsersPrompt] = useState([])\n  const [aiResponseData, setAiResponse] = useState([])\n  \n  const handleClick = (usersPrompt) => {\n\n  console.log(usersPrompt);\n\n  const data = {\n        prompt: `${usersPrompt}`,\n        temperature: 1,\n        max_tokens: 100,\n        top_p: 1.0,\n        frequency_penalty: 0.0,\n        presence_penalty: 0.0,\n        };\n\n  fetch(\"https://api.openai.com/v1/engines/text-curie-001/completions\", {\n      method: \"POST\",\n      headers: {\n      \"Content-Type\": \"application/json\",\n      Authorization: `Bearer ${OpenAPIKey}`,\n      }, body: JSON.stringify(data)\n      \n    }).then(function(response) {\n      if (!response.ok) {\n          throw new Error(\"HTTP status \" + response.status);\n      } return response.json();\n    }).then((response) => {\n        \n        const aiResponseTextwithRegex = response.choices[0].text;\n        const aiResponseRegexRemoved = aiResponseTextwithRegex.replace(/(^[.],\\r\\n|^[.]|,|\\n|\\r)/gm, \"\");\n\n        setUsersPrompt(usersPrompt)\n        setAiResponse(aiResponseRegexRemoved)\n      \n        \n        //props.aiResponseTextToList(aiResponseText)\n\n        //setAiResponse(aiResponseText)\n        //console.log(aiResponseText);\n           \n    })\n\n    \n  }\n\n  console.log(aiResponseData)\n\n  return (\n\n    //create a form \n    //HandleSubmitHandler\n    //React Forms \n\n    <div>\n      <h1>Good morning, Dave. I'm HAL 3000</h1>\n      <form>\n      <textarea type=\"text\" value={usersPromptData} onChange={\n                    (event) => setUsersPrompt(event.target.value)\n                } />\n                 <Responses aiResponseData={aiResponseData} promptResponseData={usersPromptData} />\n      </form>\n      <button onClick={() => handleClick(usersPromptData)} type=\"submit\" value=\"Submit\" > Submit Prompt </button>\n      <>\n      </>\n    </div>\n  )\n}\n\nexport default App;"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,EAAoCC,SAApC,QAAoD,OAApD;AACA,OAAOC,SAAP,MAAsB,kCAAtB;AACA,OAAOC,WAAP,MAAwB,sCAAxB;;eACoCC,OAAO,CAAC,QAAD,C;IAAnCC,a,YAAAA,a;IAAeC,S,YAAAA,S;;AAEvB,IAAMC,UAAU,GAAGC,OAAO,CAACC,GAAR,CAAYC,wBAA/B;;AAEA,IAAMC,GAAG,GAAG,SAANA,GAAM,CAACC,KAAD,EAAW;EAAA,gBAEqBZ,QAAQ,CAAC,EAAD,CAF7B;EAAA;EAAA,IAEda,eAFc;EAAA,IAEGC,cAFH;;EAAA,iBAGmBd,QAAQ,CAAC,EAAD,CAH3B;EAAA;EAAA,IAGde,cAHc;EAAA,IAGEC,aAHF;;EAKrB,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,WAAD,EAAiB;IAErCC,OAAO,CAACC,GAAR,CAAYF,WAAZ;IAEA,IAAMG,IAAI,GAAG;MACPC,MAAM,YAAKJ,WAAL,CADC;MAEPK,WAAW,EAAE,CAFN;MAGPC,UAAU,EAAE,GAHL;MAIPC,KAAK,EAAE,GAJA;MAKPC,iBAAiB,EAAE,GALZ;MAMPC,gBAAgB,EAAE;IANX,CAAb;IASAC,KAAK,CAAC,8DAAD,EAAiE;MAClEC,MAAM,EAAE,MAD0D;MAElEC,OAAO,EAAE;QACT,gBAAgB,kBADP;QAETC,aAAa,mBAAYxB,UAAZ;MAFJ,CAFyD;MAK/DyB,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeb,IAAf;IALyD,CAAjE,CAAL,CAOKc,IAPL,CAOU,UAASC,QAAT,EAAmB;MACzB,IAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;QACd,MAAM,IAAIC,KAAJ,CAAU,iBAAiBF,QAAQ,CAACG,MAApC,CAAN;MACH;;MAAC,OAAOH,QAAQ,CAACI,IAAT,EAAP;IACH,CAXH,EAWKL,IAXL,CAWU,UAACC,QAAD,EAAc;MAElB,IAAMK,uBAAuB,GAAGL,QAAQ,CAACM,OAAT,CAAiB,CAAjB,EAAoBC,IAApD;MACA,IAAMC,sBAAsB,GAAGH,uBAAuB,CAACI,OAAxB,CAAgC,4BAAhC,EAA8D,EAA9D,CAA/B;MAEA/B,cAAc,CAACI,WAAD,CAAd;MACAF,aAAa,CAAC4B,sBAAD,CAAb,CANkB,CASlB;MAEA;MACA;IAEH,CAzBH;EA4BC,CAzCD;;EA2CAzB,OAAO,CAACC,GAAR,CAAYL,cAAZ;EAEA;IAAA;IAEE;IACA;IACA;IAEA;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,sCADF,eAEE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,gBACA;MAAU,IAAI,EAAC,MAAf;MAAsB,KAAK,EAAEF,eAA7B;MAA8C,QAAQ,EACxC,kBAACiC,KAAD;QAAA,OAAWhC,cAAc,CAACgC,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAzB;MAAA,CADd;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EADA,eAIW,oBAAC,SAAD;MAAW,cAAc,EAAEjC,cAA3B;MAA2C,kBAAkB,EAAEF,eAA/D;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,EAJX,CAFF,eAQE;MAAQ,OAAO,EAAE;QAAA,OAAMI,WAAW,CAACJ,eAAD,CAAjB;MAAA,CAAjB;MAAqD,IAAI,EAAC,QAA1D;MAAmE,KAAK,EAAC,QAAzE;MAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IAAA,qBARF,eASE,yCATF;EANF;AAmBD,CArED;;AAuEA,eAAeF,GAAf"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _toConsumableArray from \"/Users/alexanderneumann/GeneralAssembly/Shopify-Front-End-Challenge/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/alexanderneumann/GeneralAssembly/Shopify-Front-End-Challenge/src/components/Form/Form.jsx\";\n\nimport React, { useRef } from 'react';\nimport FormSvg from './FormSvg';\nimport \"./Form.css\"; //Note that the API Key is hidden away for security\n\nvar OpenAPIKey = process.env.REACT_APP_OPENAI_API_KEY;\n\nvar Form = function Form(props) {\n  var handleSubmit = function handleSubmit(usersPromptData) {\n    var datafromAPI = {\n      //AN: Passes in what the user types in the text field as with a template literal\n      prompt: \"\".concat(usersPromptData),\n      temperature: 1,\n      max_tokens: 200,\n      top_p: 1.0,\n      frequency_penalty: 0.0,\n      presence_penalty: 0.0\n    };\n    fetch(\"https://api.openai.com/v1/engines/text-curie-001/completions\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \".concat(OpenAPIKey)\n      },\n      body: JSON.stringify(datafromAPI)\n    }).then(function (response) {\n      //AN: If there's any errors coming from the OpenAPI,\n      //this is where the code tells us the status code\n      if (!response.ok) {\n        throw new Error(\"HTTP status \" + response.status);\n      }\n\n      return response.json();\n    }).then(function (response) {\n      //AN: This cleans up the start of the OpenAPI Response using Regular Expressions (Regex)\n      var aiResponse = response.choices[0].text.replace(/(^[.](^,)(^())\\r\\n)/gm, \"\");\n      props.updateValuesData(function (data) {\n        return [].concat(_toConsumableArray(data), [[\"\".concat(usersPromptData), \"\".concat(aiResponse)]]);\n      });\n      console.log(props.allValuesData); //const reversed = props.updateValuesData.reverse()\n      //console.log(reversed);\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: function onSubmit(event) {\n      event.preventDefault();\n      handleSubmit(props.usersPromptData, props.updateValuesData);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"textarea\", {\n    onChange: function onChange(event) {\n      event.preventDefault();\n      props.updateUsersPrompt(event.target.value);\n    },\n    placeholder: \"Type Something...\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"Submit\",\n    type: \"submit\",\n    disabled: !props.usersPromptData,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(FormSvg, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 88\n    }\n  }))));\n};\n\nexport default Form;","map":{"version":3,"names":["React","useRef","FormSvg","OpenAPIKey","process","env","REACT_APP_OPENAI_API_KEY","Form","props","handleSubmit","usersPromptData","datafromAPI","prompt","temperature","max_tokens","top_p","frequency_penalty","presence_penalty","fetch","method","headers","Authorization","body","JSON","stringify","then","response","ok","Error","status","json","aiResponse","choices","text","replace","updateValuesData","data","console","log","allValuesData","event","preventDefault","updateUsersPrompt","target","value"],"sources":["/Users/alexanderneumann/GeneralAssembly/Shopify-Front-End-Challenge/src/components/Form/Form.jsx"],"sourcesContent":["import React, { useRef } from 'react';\nimport FormSvg from './FormSvg'\nimport \"./Form.css\";\n\n//Note that the API Key is hidden away for security\nconst OpenAPIKey = process.env.REACT_APP_OPENAI_API_KEY;\n\nconst Form = (props) => {\n\n    const handleSubmit = (usersPromptData) => {\n\n        const datafromAPI = {\n            //AN: Passes in what the user types in the text field as with a template literal\n            prompt: `${usersPromptData}`,\n            temperature: 1,\n            max_tokens: 200,\n            top_p: 1.0,\n            frequency_penalty: 0.0,\n            presence_penalty: 0.0,\n        };\n\n        fetch(\"https://api.openai.com/v1/engines/text-curie-001/completions\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `Bearer ${OpenAPIKey}`,\n            },\n            body: JSON.stringify(datafromAPI),\n        })\n            .then((response) => {\n\n                //AN: If there's any errors coming from the OpenAPI,\n                //this is where the code tells us the status code\n\n                if (!response.ok) {\n                    throw new Error(\"HTTP status \" + response.status);\n                }\n                return response.json();\n            })\n            .then((response) => {\n\n                //AN: This cleans up the start of the OpenAPI Response using Regular Expressions (Regex)\n\n                const aiResponse = response.choices[0].text.replace(\n                    /(^[.](^,)(^())\\r\\n)/gm,\n                    \"\"\n                );\n\n\n                props.updateValuesData(data => [...data, [`${usersPromptData}`, `${aiResponse}`]]);\n                console.log(props.allValuesData)\n\n                //const reversed = props.updateValuesData.reverse()\n                //console.log(reversed);\n            });\n\n    };\n\n    return (\n        <><form onSubmit={(event) => { event.preventDefault(); handleSubmit(props.usersPromptData, props.updateValuesData) }}>\n            <textarea onChange={(event) => { event.preventDefault(); props.updateUsersPrompt(event.target.value) }} placeholder=\"Type Something...\" />\n            <button className=\"Submit\" type=\"submit\" disabled={!props.usersPromptData}><FormSvg /></button>\n        </form>\n            {/*<form onSubmit={ }>\n                <textarea\n                    type=\"text\"\n                    value={props.usersPromptData}\n                    placeholder=\"Type Something\"\n                    onSubmit={(event) => props.updateUsersPrompt(event.target.value)} />\n    <button onClick={(event) => { event.preventDefault(); ; }} ></img></button>\n        </form>*/}</>\n    );\n};\n\nexport default Form;\n\n\n"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,MAAhB,QAA8B,OAA9B;AACA,OAAOC,OAAP,MAAoB,WAApB;AACA,OAAO,YAAP,C,CAEA;;AACA,IAAMC,UAAU,GAAGC,OAAO,CAACC,GAAR,CAAYC,wBAA/B;;AAEA,IAAMC,IAAI,GAAG,SAAPA,IAAO,CAACC,KAAD,EAAW;EAEpB,IAAMC,YAAY,GAAG,SAAfA,YAAe,CAACC,eAAD,EAAqB;IAEtC,IAAMC,WAAW,GAAG;MAChB;MACAC,MAAM,YAAKF,eAAL,CAFU;MAGhBG,WAAW,EAAE,CAHG;MAIhBC,UAAU,EAAE,GAJI;MAKhBC,KAAK,EAAE,GALS;MAMhBC,iBAAiB,EAAE,GANH;MAOhBC,gBAAgB,EAAE;IAPF,CAApB;IAUAC,KAAK,CAAC,8DAAD,EAAiE;MAClEC,MAAM,EAAE,MAD0D;MAElEC,OAAO,EAAE;QACL,gBAAgB,kBADX;QAELC,aAAa,mBAAYlB,UAAZ;MAFR,CAFyD;MAMlEmB,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeb,WAAf;IAN4D,CAAjE,CAAL,CAQKc,IARL,CAQU,UAACC,QAAD,EAAc;MAEhB;MACA;MAEA,IAAI,CAACA,QAAQ,CAACC,EAAd,EAAkB;QACd,MAAM,IAAIC,KAAJ,CAAU,iBAAiBF,QAAQ,CAACG,MAApC,CAAN;MACH;;MACD,OAAOH,QAAQ,CAACI,IAAT,EAAP;IACH,CAjBL,EAkBKL,IAlBL,CAkBU,UAACC,QAAD,EAAc;MAEhB;MAEA,IAAMK,UAAU,GAAGL,QAAQ,CAACM,OAAT,CAAiB,CAAjB,EAAoBC,IAApB,CAAyBC,OAAzB,CACf,uBADe,EAEf,EAFe,CAAnB;MAMA1B,KAAK,CAAC2B,gBAAN,CAAuB,UAAAC,IAAI;QAAA,oCAAQA,IAAR,IAAc,WAAI1B,eAAJ,aAA0BqB,UAA1B,EAAd;MAAA,CAA3B;MACAM,OAAO,CAACC,GAAR,CAAY9B,KAAK,CAAC+B,aAAlB,EAXgB,CAahB;MACA;IACH,CAjCL;EAmCH,CA/CD;;EAiDA,oBACI,uDAAE;IAAM,QAAQ,EAAE,kBAACC,KAAD,EAAW;MAAEA,KAAK,CAACC,cAAN;MAAwBhC,YAAY,CAACD,KAAK,CAACE,eAAP,EAAwBF,KAAK,CAAC2B,gBAA9B,CAAZ;IAA6D,CAAlH;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBACE;IAAU,QAAQ,EAAE,kBAACK,KAAD,EAAW;MAAEA,KAAK,CAACC,cAAN;MAAwBjC,KAAK,CAACkC,iBAAN,CAAwBF,KAAK,CAACG,MAAN,CAAaC,KAArC;IAA6C,CAAtG;IAAwG,WAAW,EAAC,mBAApH;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EADF,eAEE;IAAQ,SAAS,EAAC,QAAlB;IAA2B,IAAI,EAAC,QAAhC;IAAyC,QAAQ,EAAE,CAACpC,KAAK,CAACE,eAA1D;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,gBAA2E,oBAAC,OAAD;IAAA;IAAA;MAAA;MAAA;MAAA;IAAA;EAAA,EAA3E,CAFF,CAAF,CADJ;AAcH,CAjED;;AAmEA,eAAeH,IAAf"},"metadata":{},"sourceType":"module"}